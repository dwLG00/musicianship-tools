<!DOCTYPE html>
<html>
	<head>
		<title>Polyrhythm</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.1/howler.min.js"></script> <!-- Audio -->
		<script src="https://unpkg.com/web-audio-daw"></script>

		<script src="/musicianship-tools/static/js/polyrhythm-2.js" type="application/javascript" defer></script>
		<script src="/musicianship-tools/static/js/polyrhythm-modal.js" type="application/javascript"></script>
		<!-- Tailwind -->
		<script src="https://cdn.tailwindcss.com"></script>
	</head>
	<body>
		<div class="container flex justify-center" id="global-align">
			<div class="container p-5 m-5">
				<div class="container flex" id="controls">
					<div class="container" id="settings">
						<!-- Polyrhythm ratio label -->
						<div id="controller-box" class="container border-2 border-slate-800 rounded p-2 max-w-xs text-l">

							<label for="speed-control">Speed: </label><span id="speed-value">50</span><br>
							<input id="speed-control" name="speed-control" type="range" class="range" min="1" max="100" value="50" oninput="speed_update()">
							<br>
							<div id="polyrhythm-ratio" class="container inline">
								<span>Ratio: </span><span id="ratio-a" class="text-red-500">2</span><span>:</span><span id="ratio-b" class="text-blue-500">2</span>
							</div>
							<div id="polyrhythm-controller" class="w-full max-w-xs">
								<div id="slider-a-flex" class="flex gap-1">
									<!--div class="inline"--><label for="polyrhythm-control-a" class="text-red-500">R:</label><input id="polyrhythm-control-a" name="polyrhythm-control-a" type="range" class="range max-w-xs" min="1" max="20" value="3" step="1" oninput="polyrhythm_update()"><!--/div-->
								</div>
								<div id="slider-b-flex" class="flex gap-1">
									<!--div class="inline"--><label for="polyrhythm-control-b" class="text-blue-500">B:</label><input id="polyrhythm-control-b" name="polyrhythm-control-b" type="range" class="range max-w-xs" min="1" max="20" value="4" step="1" oninput="polyrhythm_update()"><!--/div-->
								</div>
							</div>
						</div>
					</div>
					<div class="container inline" id="playback">
						<button id="play" type="button" class="text-white bg-blue-700 hover:bg-blue-800 rounded-lg text-sm px-5 py-2.5" onclick="play_polyrhythm()">
							Play Audio
						</button>
						<button id="stop" type="button" class="text-white bg-slate-500 hover:bg-blue-600 rounded-lg text-sm px-5 py-2.5" onclick="stop_audio()">
							Stop Audio
						</button>
					</div>
					<div id="help-container" class="container">
						<button id="help" type="button" class="text-slate hover:bg-white-100 border-2 border-slate-800 rounded-lg h-10 w-10 float-right" onclick="display_help_modal()">
							?
						</button>
					</div>
				</div>

				<br>

				<div id="polyrhythm-tracks" class="container">
					<div id="polyrhythm-track" class="grid w-full text-xl font-bold text-slate-800"></div>
				</div>
			</div>
		</div>


		<!-- modal -->
		<div id="modal-container">
			<div class="modal fade fixed w-3/6 h-3/6 hidden outline-none overflow-x-hidden overflow-y-auto inset-x-1/4 inset-y-1/3 shadow-2xl" id="help-modal"  tabindex="-1" aria-labelledby="intro-modal" aria-hidden="true">
				<div class="modal-dialog relative w-auto pointer-events-none rounded-md border-2 border-slate-100">
					<div class="modal-content border-none relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding outline-none text-current overscroll-none">
						<div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md fixed overflow-hidden">
							<h5 class="text-xl font-medium leading-normal text-gray-800" id-"intro-modal-title">FAQ</h5>
						</div>
						<div class="modal-body relative p-4">
							<ul class="list-none m-2">
								<li><span class="font-bold text-gray-800">What is a Polyrhythm?</span></li>
								<li><p class="text-gray-800">A polyrhythm is a combination of two different rhythms, which are combined and played at the same time. Polyrhythms are present in many genres and forms of music, and know how to play polyrhythms is a useful skill for players of all instruments.</p></li>
								<li><span class="font-bold text-gray-800">How does This Tool Work?</span></li>
								<li><p class="text-gray-800">In the top left corner, you can set the rhythms that make up the polyrhythm that you want to practice. The center grid's dimensions reflect the rhythms chosen. Each cell is highlighted a color: Cells on which both rhythms have beats are colored purple; cells on which the red rhythm has a beat are colored red; cells on which the blue rhythm has a beat are colored blue; and cells with no beat are uncolored. You may notice that every cell in the leftmost column is blue. This is because the blue rhythm is treated as the reference rhythm, and the red rhythm is shown in relation to the reference beat.</p></li>
								<li><span class="font-bold text-gray-800">How Should I Learn Polyrhythms Using This Tool?</span></li>
								<li><p class="text-gray-800">One way of learning polyrhythms is by remembering the timing of the beats in one rhythm in relation to the beats of the other. This is easy to do using this tool. The grid displays the locations of the beats of the red rhythm in relation to the beats of the blue rhythm, and each cell contains a count to make it easier to remember its timing. It helps to learn polyrhythms by playing each cell slowly at first, and then speeding up when you can play the whole polyrhythm without mistakes.</p></li>
							</ul>
						</div>
						<div class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-center p-4 border-t border-gray-200 rounded-b-md">
							<button type="button" class="btn-close bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded m-1" data-modal-toggle="help-modal" aria-label="Close" onclick="close_modal()">
								Close
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

	</body>
</html>



